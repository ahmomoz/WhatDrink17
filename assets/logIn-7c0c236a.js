import"./bootstrap.min-2c360eca.js";const c=sessionStorage.getItem("jwtToken");function l(){return c?(console.log("有權限: 找到 Token"),redirectToMember(),!0):!1}l();document.getElementById("loginForm").addEventListener("submit",d);async function d(o){o.preventDefault();const n=document.getElementById("logInEmail").value,s=document.getElementById("logInPassword").value;try{const e=await axios.post("https://drinkpicker-nclv.onrender.com/login",{email:n,password:s});console.log(e.data);const t=e.data.accessToken,r=e.data.user.email,a=e.data.user.id,i=e.data.user.nickname;t?(console.log("登入成功",e.data),sessionStorage.setItem("jwtToken",t),sessionStorage.setItem("user_email",r),sessionStorage.setItem("user_id",a),sessionStorage.setItem("user_nickname",i),m()):alert("登入失敗，請檢查帳號或密碼")}catch(e){console.error("登入錯誤",e),alert("登入失敗，請檢查帳號或密碼")}}function m(){window.location.href="index.html"}
